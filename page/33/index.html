<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css?v=1.0.2"/>





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=7.1.1"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="john's tech blog">
<meta property="og:url" content="http://johnwonder.github.io/page/33/index.html">
<meta property="og:site_name" content="john's tech blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="john's tech blog">
<meta name="twitter:description">





  
  
  <link rel="canonical" href="http://johnwonder.github.io/page/33/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>john's tech blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">john's tech blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">hope is coming</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/johnwonder" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://johnwonder.github.io/2016/12/30/angular-initmember/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="john's tech blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/30/angular-initmember/" class="post-title-link" itemprop="url">angular_源码分析之初始变量</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-30 22:37:20" itemprop="dateCreated datePublished" datetime="2016-12-30T22:37:20+08:00">2016-12-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-07 20:32:35" itemprop="dateModified" datetime="2019-05-07T20:32:35+08:00">2019-05-07</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//String正则</span></span><br><span class="line">  <span class="comment">//. 正则表示 除\n外的任意字符</span></span><br><span class="line">  <span class="comment">// + 表示 1 到无穷</span></span><br><span class="line">  <span class="keyword">var</span> REGEX_STRING_REGEXP = <span class="regexp">/^\/(.+)\/([a-z]*)$/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// The name of a form control's ValidityState property.</span></span><br><span class="line">  <span class="comment">// This is used so that it's possible for internal tests to create mock ValidityStates.</span></span><br><span class="line">  <span class="keyword">var</span> VALIDITY_STATE_PROPERTY = <span class="string">'validity'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hasOwnProperty = <span class="built_in">Object</span>.prototype.hasOwnProperty;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> lowercase = <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;<span class="keyword">return</span> isString(string) ? string.toLowerCase() : string;&#125;;</span><br><span class="line">  <span class="keyword">var</span> uppercase = <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;<span class="keyword">return</span> isString(string) ? string.toUpperCase() : string;&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> manualLowercase = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/* jshint bitwise: false */</span></span><br><span class="line">  <span class="comment">//根据charCodeAt来区分</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//charCodeAt() 方法可返回指定位置的字符的 Unicode 编码。这个返回值是 0 - 65535 之间的整数。</span></span><br><span class="line">  <span class="keyword">return</span> isString(s)</span><br><span class="line">      ? s.replace(<span class="regexp">/[A-Z]/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ch</span>) </span>&#123;<span class="keyword">return</span> <span class="built_in">String</span>.fromCharCode(ch.charCodeAt(<span class="number">0</span>) | <span class="number">32</span>);&#125;)</span><br><span class="line">      : s;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">var</span> manualUppercase = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/* jshint bitwise: false */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//位运算符由否定好(~)表示，它是ECMAScript中为数不多的与二进制算术有关的运算符之一。位运算符NOT是三步的处理过程：</span></span><br><span class="line"> <span class="comment">//把运算数转为32位二进制数字</span></span><br><span class="line"> <span class="comment">//再转为它的二进制反码</span></span><br><span class="line"> <span class="comment">//把二进制反码转为浮点数</span></span><br><span class="line"> <span class="comment">//参考 https://my.oschina.net/luozt/blog/302294</span></span><br><span class="line"> <span class="comment">//http://www.cnblogs.com/oneword/archive/2009/12/23/1631039.html</span></span><br><span class="line"> <span class="comment">//10 = 1010</span></span><br><span class="line"> <span class="comment">// 反码 0101</span></span><br><span class="line"><span class="comment">//http://blog.sina.com.cn/s/blog_77abbf390100qwss.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//负数的二进制表示方法</span></span><br><span class="line"> <span class="comment">//http://www.360doc.com/content/12/0801/17/6828497_227700914.shtml</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isString(s)</span><br><span class="line">      ? s.replace(<span class="regexp">/[a-z]/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ch</span>) </span>&#123;<span class="keyword">return</span> <span class="built_in">String</span>.fromCharCode(ch.charCodeAt(<span class="number">0</span>) &amp; ~<span class="number">32</span>);&#125;)</span><br><span class="line">      : s;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Turkish 是啥玩意</span></span><br><span class="line">  <span class="comment">// String#toLowerCase and String#toUpperCase don't produce correct results in browsers with Turkish</span></span><br><span class="line">  <span class="comment">// locale, for this reason we need to detect this case and redefine lowercase/uppercase methods</span></span><br><span class="line">  <span class="comment">// with correct but slower alternatives. See https://github.com/angular/angular.js/issues/11387</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="string">'i'</span> !== <span class="string">'I'</span>.toLowerCase()) &#123;</span><br><span class="line">  lowercase = manualLowercase;</span><br><span class="line">  uppercase = manualUppercase;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span></span><br><span class="line">    msie,             <span class="comment">// holds major version number for IE, or NaN if UA is not IE.</span></span><br><span class="line">    jqLite,           <span class="comment">// delay binding since jQuery could be loaded after us.</span></span><br><span class="line">    jQuery,           <span class="comment">// delay binding</span></span><br><span class="line">    slice             = [].slice,</span><br><span class="line">    splice            = [].splice,</span><br><span class="line">    push              = [].push,</span><br><span class="line">    toString          = <span class="built_in">Object</span>.prototype.toString,</span><br><span class="line">    getPrototypeOf    = <span class="built_in">Object</span>.getPrototypeOf,</span><br><span class="line">    ngMinErr          = minErr(<span class="string">'ng'</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** @name angular */</span></span><br><span class="line">    angular           = <span class="built_in">window</span>.angular || (<span class="built_in">window</span>.angular = &#123;&#125;),</span><br><span class="line">    angularModule,</span><br><span class="line">    uid               = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span><br><span class="line">  *documentMode 是IE独有的属性</span><br><span class="line">  * documentMode is an IE-only property</span><br><span class="line">  * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx</span><br><span class="line">  */</span></span><br><span class="line">  msie = <span class="built_in">window</span>.document.documentMode;</span><br></pre></td></tr></table></figure>
<h3 id="REGEX-STRING-REGEXP用法"><a href="#REGEX-STRING-REGEXP用法" class="headerlink" title="REGEX_STRING_REGEXP用法"></a>REGEX_STRING_REGEXP用法</h3><p>REGEX_STRING_REGEXP 在源码22232行使用:</p>
<p>里面涉及到了forEach函数还有ngAttributeAliasDirectives</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//别名属性对象</span></span><br><span class="line"><span class="keyword">var</span> ALIASED_ATTR = &#123;</span><br><span class="line">  <span class="string">'ngMinlength'</span>: <span class="string">'minlength'</span>,</span><br><span class="line">  <span class="string">'ngMaxlength'</span>: <span class="string">'maxlength'</span>,</span><br><span class="line">  <span class="string">'ngMin'</span>: <span class="string">'min'</span>,</span><br><span class="line">  <span class="string">'ngMax'</span>: <span class="string">'max'</span>,</span><br><span class="line">  <span class="string">'ngPattern'</span>: <span class="string">'pattern'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// aliased input attrs are evaluated</span></span><br><span class="line"><span class="comment">//别名属性被求值</span></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="comment">//定义ngAttributeAliasDirectives</span></span><br><span class="line">forEach(ALIASED_ATTR, <span class="function"><span class="keyword">function</span>(<span class="params">htmlAttr, ngAttr</span>) </span>&#123;</span><br><span class="line">ngAttributeAliasDirectives[ngAttr] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">priority</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">link</span>: <span class="function"><span class="keyword">function</span>(<span class="params">scope, element, attr</span>) </span>&#123;</span><br><span class="line">      <span class="comment">//ngPattern的特殊例子</span></span><br><span class="line">      <span class="comment">//当一个字面意义的正则被用作表达式时</span></span><br><span class="line">      <span class="comment">//这种我们就不必watch任何东西了。</span></span><br><span class="line">      <span class="comment">//比如ng-pattern="/[a-zA-Z]/"</span></span><br><span class="line">      <span class="comment">//special case ngPattern when a literal regular expression value</span></span><br><span class="line">      <span class="comment">//is used as the expression (this way we don't have to watch anything).</span></span><br><span class="line">      <span class="keyword">if</span> (ngAttr === <span class="string">"ngPattern"</span> &amp;&amp; attr.ngPattern.charAt(<span class="number">0</span>) == <span class="string">"/"</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> match = attr.ngPattern.match(REGEX_STRING_REGEXP);</span><br><span class="line">        <span class="keyword">if</span> (match) &#123;</span><br><span class="line">          attr.$<span class="keyword">set</span>("ngPattern", new RegExp(match[1], match[2]));</span><br><span class="line">          return;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      scope.$watch(attr[ngAttr], function ngAttrAliasWatchAction(value) &#123;</span><br><span class="line">        attr.$<span class="keyword">set</span>(ngAttr, value);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="foreach函数"><a href="#foreach函数" class="headerlink" title="foreach函数"></a>foreach函数</h3><p>foreach第一个参数为值，第二个参数为键，源码分析可以看我的另一篇博客<br><a href="http://johnwonder.github.io/2017/02/21/angular-foreach/">angular1.5.8 foreach 源码分析</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">       <span class="keyword">if</span> (hasOwnProperty.call(obj, key)) &#123;</span><br><span class="line">         iterator.call(context, obj[key], key, obj);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ngAttributeAliasDirectives"><a href="#ngAttributeAliasDirectives" class="headerlink" title="ngAttributeAliasDirectives"></a>ngAttributeAliasDirectives</h3><p><code>ngAttributeAliasDirectives</code>在<code>publishExternalAPI</code>函数中使用到了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">$provide.provider(<span class="string">'$compile'</span>, $CompileProvider).</span><br><span class="line">      directive(&#123;</span><br><span class="line">          <span class="attr">a</span>: htmlAnchorDirective,</span><br><span class="line">          <span class="attr">input</span>: inputDirective,</span><br><span class="line">          <span class="attr">textarea</span>: inputDirective,</span><br><span class="line">          <span class="attr">form</span>: formDirective,</span><br><span class="line">          <span class="attr">script</span>: scriptDirective,</span><br><span class="line">          <span class="attr">select</span>: selectDirective,</span><br><span class="line">          <span class="attr">style</span>: styleDirective,</span><br><span class="line">          <span class="attr">option</span>: optionDirective,</span><br><span class="line">          <span class="attr">ngBind</span>: ngBindDirective,</span><br><span class="line">          <span class="attr">ngBindHtml</span>: ngBindHtmlDirective,</span><br><span class="line">          <span class="attr">ngBindTemplate</span>: ngBindTemplateDirective,</span><br><span class="line">          <span class="attr">ngClass</span>: ngClassDirective,</span><br><span class="line">          <span class="attr">ngClassEven</span>: ngClassEvenDirective,</span><br><span class="line">          <span class="attr">ngClassOdd</span>: ngClassOddDirective,</span><br><span class="line">          <span class="attr">ngCloak</span>: ngCloakDirective,</span><br><span class="line">          <span class="attr">ngController</span>: ngControllerDirective,</span><br><span class="line">          <span class="attr">ngForm</span>: ngFormDirective,</span><br><span class="line">          <span class="attr">ngHide</span>: ngHideDirective,</span><br><span class="line">          <span class="attr">ngIf</span>: ngIfDirective,</span><br><span class="line">          <span class="attr">ngInclude</span>: ngIncludeDirective,</span><br><span class="line">          <span class="attr">ngInit</span>: ngInitDirective,</span><br><span class="line">          <span class="attr">ngNonBindable</span>: ngNonBindableDirective,</span><br><span class="line">          <span class="attr">ngPluralize</span>: ngPluralizeDirective,</span><br><span class="line">          <span class="attr">ngRepeat</span>: ngRepeatDirective,</span><br><span class="line">          <span class="attr">ngShow</span>: ngShowDirective,</span><br><span class="line">          <span class="attr">ngStyle</span>: ngStyleDirective,</span><br><span class="line">          <span class="attr">ngSwitch</span>: ngSwitchDirective,</span><br><span class="line">          <span class="attr">ngSwitchWhen</span>: ngSwitchWhenDirective,</span><br><span class="line">          <span class="attr">ngSwitchDefault</span>: ngSwitchDefaultDirective,</span><br><span class="line">          <span class="attr">ngOptions</span>: ngOptionsDirective,</span><br><span class="line">          <span class="attr">ngTransclude</span>: ngTranscludeDirective,</span><br><span class="line">          <span class="attr">ngModel</span>: ngModelDirective,</span><br><span class="line">          <span class="attr">ngList</span>: ngListDirective,</span><br><span class="line">          <span class="attr">ngChange</span>: ngChangeDirective,</span><br><span class="line">          <span class="attr">pattern</span>: patternDirective,</span><br><span class="line">          <span class="attr">ngPattern</span>: patternDirective,</span><br><span class="line">          <span class="attr">required</span>: requiredDirective,</span><br><span class="line">          <span class="attr">ngRequired</span>: requiredDirective,</span><br><span class="line">          <span class="attr">minlength</span>: minlengthDirective,</span><br><span class="line">          <span class="attr">ngMinlength</span>: minlengthDirective,</span><br><span class="line">          <span class="attr">maxlength</span>: maxlengthDirective,</span><br><span class="line">          <span class="attr">ngMaxlength</span>: maxlengthDirective,</span><br><span class="line">          <span class="attr">ngValue</span>: ngValueDirective,</span><br><span class="line">          <span class="attr">ngModelOptions</span>: ngModelOptionsDirective</span><br><span class="line">      &#125;).</span><br><span class="line">      directive(&#123;</span><br><span class="line">        <span class="attr">ngInclude</span>: ngIncludeFillContentDirective</span><br><span class="line">      &#125;).</span><br><span class="line">      directive(ngAttributeAliasDirectives).</span><br><span class="line">      directive(ngEventDirectives);</span><br></pre></td></tr></table></figure>
<p>参考资料:<br><a href="http://www.jb51.net/article/77049.htm" target="_blank" rel="external">AngularJS使用ngMessages进行表单验证</a><br><a href="http://blog.csdn.net/w329300817/article/details/51981955" target="_blank" rel="external">AngularJS 最常用的八种功能</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://johnwonder.github.io/2016/12/30/jquery-attr/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="john's tech blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/30/jquery-attr/" class="post-title-link" itemprop="url">jquery_attr</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-30 22:07:48" itemprop="dateCreated datePublished" datetime="2016-12-30T22:07:48+08:00">2016-12-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-07 20:32:35" itemprop="dateModified" datetime="2019-05-07T20:32:35+08:00">2019-05-07</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="jquery1-0-attr-函数分析"><a href="#jquery1-0-attr-函数分析" class="headerlink" title="jquery1.0 attr 函数分析"></a>jquery1.0 attr 函数分析</h2><p>先上代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">attr: <span class="function"><span class="keyword">function</span>(<span class="params"> key, value, type </span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Check to see if we're setting style values</span></span><br><span class="line">  <span class="comment">//检查是否是设置属性</span></span><br><span class="line">  <span class="keyword">return</span> key.constructor != <span class="built_in">String</span> || value != <span class="literal">undefined</span> ?</span><br><span class="line">    <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// See if we're setting a hash of styles</span></span><br><span class="line">      <span class="comment">//key是一个对象</span></span><br><span class="line">      <span class="comment">//例如 &#123; "width":“15px”&#125;</span></span><br><span class="line">      <span class="keyword">if</span> ( value == <span class="literal">undefined</span> )</span><br><span class="line">        <span class="comment">// Set all the styles</span></span><br><span class="line">        <span class="keyword">for</span> ( <span class="keyword">var</span> prop <span class="keyword">in</span> key )</span><br><span class="line">          jQuery.attr(</span><br><span class="line">            type ? <span class="keyword">this</span>.style : <span class="keyword">this</span>,</span><br><span class="line">            prop, key[prop]</span><br><span class="line">          );</span><br><span class="line"></span><br><span class="line">      <span class="comment">// See if we're setting a single key/value style</span></span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        jQuery.attr(</span><br><span class="line">          type ? <span class="keyword">this</span>.style : <span class="keyword">this</span>,<span class="comment">//这边的this已经是dom对象</span></span><br><span class="line">          key, value</span><br><span class="line">        );</span><br><span class="line">    &#125;) :</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Look for the case where we're accessing a style value</span></span><br><span class="line">    <span class="comment">//读取属性值 css -&gt;调用静态方法jQuery.curCSS</span></span><br><span class="line">    jQuery[ type || <span class="string">"attr"</span> ]( <span class="keyword">this</span>[<span class="number">0</span>], key );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="jquery1-0-静态-attr函数"><a href="#jquery1-0-静态-attr函数" class="headerlink" title="jquery1.0 静态 attr函数"></a>jquery1.0 静态 attr函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">attr: <span class="function"><span class="keyword">function</span>(<span class="params">elem, name, value</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> fix = &#123;</span><br><span class="line">    <span class="string">"for"</span>: <span class="string">"htmlFor"</span>,</span><br><span class="line">    <span class="string">"class"</span>: <span class="string">"className"</span>,</span><br><span class="line">    <span class="string">"float"</span>: <span class="string">"cssFloat"</span>,</span><br><span class="line">    <span class="attr">innerHTML</span>: <span class="string">"innerHTML"</span>,</span><br><span class="line">    <span class="attr">className</span>: <span class="string">"className"</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( fix[name] ) &#123;</span><br><span class="line">    <span class="keyword">if</span> ( value != <span class="literal">undefined</span> ) elem[fix[name]] = value;</span><br><span class="line">    <span class="keyword">return</span> elem[fix[name]];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( elem.getAttribute ) &#123;</span><br><span class="line">    <span class="keyword">if</span> ( value != <span class="literal">undefined</span> ) elem.setAttribute( name, value );</span><br><span class="line">    <span class="keyword">return</span> elem.getAttribute( name, <span class="number">2</span> );</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    name = name.replace(<span class="regexp">/-([a-z])/ig</span>,<span class="function"><span class="keyword">function</span>(<span class="params">z,b</span>)</span>&#123;<span class="keyword">return</span> b.toUpperCase();&#125;);</span><br><span class="line">    <span class="keyword">if</span> ( value != <span class="literal">undefined</span> ) elem[name] = value;</span><br><span class="line">    <span class="keyword">return</span> elem[name];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从中我们可以学到如下几点：</p>
<blockquote>
<p>jquery.each方法</p>
</blockquote>
<blockquote>
<p>jquery静态方法的调用</p>
</blockquote>
<blockquote>
<p>dom是如何给元素设置属性的</p>
</blockquote>
<blockquote>
<p>一个函数中既包含设置又包含读取的功能</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://johnwonder.github.io/2016/12/30/jquery-wrap/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="john's tech blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/30/jquery-wrap/" class="post-title-link" itemprop="url">jquery_wrap</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-30 21:47:01" itemprop="dateCreated datePublished" datetime="2016-12-30T21:47:01+08:00">2016-12-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-07 20:32:35" itemprop="dateModified" datetime="2019-05-07T20:32:35+08:00">2019-05-07</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="jquery1-0-wrap函数分析"><a href="#jquery1-0-wrap函数分析" class="headerlink" title="jquery1.0 wrap函数分析"></a>jquery1.0 wrap函数分析</h2><p>先上代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">wrap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// The elements to wrap the target around</span></span><br><span class="line">  <span class="comment">//包装目标元素的元素</span></span><br><span class="line">  <span class="keyword">var</span> a = jQuery.clean(<span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Wrap each of the matched elements individually</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// Clone the structure that we're using to wrap</span></span><br><span class="line">    <span class="keyword">var</span> b = a[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);<span class="comment">//选择a[0]元素</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Insert it before the element to be wrapped</span></span><br><span class="line">          <span class="comment">//在当前元素之前插入包装节点</span></span><br><span class="line">    <span class="keyword">this</span>.parentNode.insertBefore( b, <span class="keyword">this</span> );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Find he deepest point in the wrap structure</span></span><br><span class="line">    <span class="comment">//找出最深的第一个包装的元素</span></span><br><span class="line">    <span class="keyword">while</span> ( b.firstChild )</span><br><span class="line">      b = b.firstChild;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Move the matched element to within the wrap structure</span></span><br><span class="line">    <span class="comment">//把匹配的当前元素移动到包装元素内</span></span><br><span class="line">    b.appendChild( <span class="keyword">this</span> );</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从中我们可以学到以下几点：</p>
<blockquote>
<p>dom元素的操作</p>
</blockquote>
<blockquote>
<p>jquery.clean方法的应用</p>
</blockquote>
<p>关于jquery.clean方法我们已经在之前<a href="http://johnwonder.github.io/2016/09/05/jquery-clean/">这篇博客</a>中分析过</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://johnwonder.github.io/2016/12/29/slf4j_MDC/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="john's tech blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/29/slf4j_MDC/" class="post-title-link" itemprop="url">slf4j_MDC</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-29 16:50:56" itemprop="dateCreated datePublished" datetime="2016-12-29T16:50:56+08:00">2016-12-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-09 20:37:48" itemprop="dateModified" datetime="2019-05-09T20:37:48+08:00">2019-05-09</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="slf4j-MDC"><a href="#slf4j-MDC" class="headerlink" title="slf4j MDC"></a>slf4j MDC</h1><p>A lighter technique consists of uniquely stamping each log request servicing a given client. Neil Harrison described this method in the book Patterns for Logging Diagnostic Messages in Pattern Languages of Program Design 3, edited by R. Martin, D. Riehle, and F. Buschmann (Addison-Wesley, 1997).</p>
<p>Logback leverages a variant of this technique included in the SLF4J API: Mapped Diagnostic Contexts (MDC).</p>
<p>在分布式系统中，各种无关日志穿行其中，导致我们可能无法直接定位整个操作流程。因此，我们可能需要对一个用户的操作流程进行归类标记，比如使用线程+时间戳，或者用户身份标识等；如此，我们可以从大量日志信息中grep出某个用户的操作流程，或者某个时间的流转记录。</p>
<p>因此，这就有了 Slf4j MDC 方法</p>
<p>转载自<a href="http://www.ithao123.cn/content-8291525.html" target="_blank" rel="external">Slf4j MDC 使用和 基于 Logback 的实现分析</a></p>
<p><a href="http://www.cnblogs.com/dumuqiao/p/3654702.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="external">LogBack sl4j 通过MDC实现日志记录区分用户Session</a></p>
<h2 id="slf4j-api-MDC类"><a href="#slf4j-api-MDC类" class="headerlink" title="slf4j-api MDC类"></a>slf4j-api MDC类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">   *内部静态类</span><br><span class="line">   * An adapter to remove the key when done.</span><br><span class="line">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MDCCloseable</span> <span class="keyword">implements</span> <span class="title">Closeable</span> </span>&#123;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">final</span> String key;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">private</span> <span class="title">MDCCloseable</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.key = key;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          MDC.remove(<span class="keyword">this</span>.key);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Java中的类可以是static吗？答案是可以。在java中我们可以有静态实例变量、静态方法、静态块。类也可以是静态的</p>
<p>静态内部类只能访问外部类的静态成员</p>
<p>静态内部类和非静态内部类之间到底有什么不同呢？下面是两者间主要的不同。</p>
<blockquote>
<p>内部静态类不需要有指向外部类的引用。但非静态内部类需要持有对外部类的引用。</p>
</blockquote>
<blockquote>
<p>非静态内部类能够访问外部类的静态和非静态成员。静态类不能访问外部类的非静态成员。他只能访问外部类的静态成员。</p>
</blockquote>
<blockquote>
<p>一个非静态内部类不能脱离外部类实体被创建，一个非静态内部类可以访问外部类的数据和方法，因为他就在外部类里面。</p>
</blockquote>
<p>参考资料:<br><a href="http://www.cnblogs.com/kissazi2/p/3971065.html" target="_blank" rel="external">java中的Static class</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://johnwonder.github.io/2016/12/29/angularjs-minError/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="john's tech blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/29/angularjs-minError/" class="post-title-link" itemprop="url">angularjs源码剖析之minErr函数</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-29 16:09:25" itemprop="dateCreated datePublished" datetime="2016-12-29T16:09:25+08:00">2016-12-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-07 11:05:57" itemprop="dateModified" datetime="2019-07-07T11:05:57+08:00">2019-07-07</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="angular1-5-8-minErr函数"><a href="#angular1-5-8-minErr函数" class="headerlink" title="angular1.5.8 minErr函数"></a>angular1.5.8 minErr函数</h2><p>minErr函数名字起的很有创意,我们可以理解为错误函数最小化包装,angularjs内部变量的命名都很规范，<br>这已经是是值得我们借鉴的地方。</p>
<p>在运行过程中如果angularjs脚本出现错误,那么在浏览器控制台我们可以看到自定义的错误信息，<br>这些信息就是通过这个函数输出的。</p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>angular.js内部代码有如下用法：  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ng参数代表返回的新的minErr实例使用的命名空间</span></span><br><span class="line"><span class="comment">//也可以当作是模块。</span></span><br><span class="line">ngMinErr  = minErr(<span class="string">'ng'</span>) <span class="comment">//代表是ng模块的错误</span></span><br></pre></td></tr></table></figure>
<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @description  描述</span><br><span class="line">* 这个对象提供一个用于angular创建富错误信息的能力</span><br><span class="line">* This object provides a utility for producing rich Error messages within</span><br><span class="line">* Angular. It can be called as follows:</span><br><span class="line">*</span><br><span class="line">* 使用方法</span><br><span class="line">* var exampleMinErr = minErr('example');</span><br><span class="line">* throw exampleMinErr('one', 'This &#123;0&#125; is &#123;1&#125;', foo, bar);</span><br><span class="line">*</span><br><span class="line">* The above creates an instance of minErr in the example namespace. The</span><br><span class="line">* resulting error will have a namespaced error code of example.one.  The</span><br><span class="line">* resulting error will replace &#123;0&#125; with the value of foo, and &#123;1&#125; with the</span><br><span class="line">* value of bar. The object is not restricted in the number of arguments it can</span><br><span class="line">* take.</span><br><span class="line">*</span><br><span class="line">*如果传入比需要少点的参数，那么多出来的参数会保存起来</span><br><span class="line">* If fewer arguments are specified than necessary for interpolation, the extra</span><br><span class="line">* interpolation markers will be preserved in the final string.</span><br><span class="line">*由于数据在生成过程中会被静态解析,在minErr实例创建和调用的过程中一些约束被适当的应用。</span><br><span class="line">* Since data will be parsed statically during a build step, some restrictions</span><br><span class="line">* are applied with respect to how minErr instances are created and called.</span><br><span class="line">* Instances should have names of the form namespaceMinErr for a minErr created</span><br><span class="line">* using minErr('namespace') .</span><br><span class="line">* 错误代码，命名空间和模板字符串都应该是静态字符串，不能是变量和生成的表达式</span><br><span class="line">* Error codes, namespaces and template strings</span><br><span class="line">* should all be static strings, not variables or general expressions.</span><br><span class="line">*</span><br><span class="line">* @param &#123;string&#125; module The namespace to use for the new minErr instance.</span><br><span class="line"></span><br><span class="line">*在angular.js 16314行 定义了一个如下Err 其中就传入了TypeError 对象</span><br><span class="line">* var $qMinErr = minErr('$q', TypeError);</span><br><span class="line"></span><br><span class="line">* line 16413</span><br><span class="line">*$qMinErr(</span><br><span class="line">*        'qcycle',</span><br><span class="line">*        "Expected promise to be resolved with value other than itself '&#123;0&#125;'",</span><br><span class="line">*        val)</span><br><span class="line"></span><br><span class="line">* Promise解读</span><br><span class="line">* 相关链接 http://lib.csdn.net/article/angularjs/33116</span><br><span class="line">* @param &#123;function&#125; ErrorConstructor Custom error constructor to be instantiated when returning</span><br><span class="line">*   error from returned function, for cases when a particular type of error is useful.</span><br><span class="line">* @returns &#123;function(code:string, template:string, ...templateArgs): Error&#125; minErr instance</span><br><span class="line">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minErr</span>(<span class="params">module, ErrorConstructor</span>) </span>&#123;</span><br><span class="line">    ErrorConstructor = ErrorConstructor || <span class="built_in">Error</span>;<span class="comment">//如果没有提供Error构造函数，就用默认的Error</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回真正可以使用的函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> SKIP_INDEXES = <span class="number">2</span>;<span class="comment">//跳过的索引</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> templateArgs = <span class="built_in">arguments</span>,<span class="comment">//函数传入的参数</span></span><br><span class="line">        code = templateArgs[<span class="number">0</span>],<span class="comment">//第一个参数：错误代码</span></span><br><span class="line">        message = <span class="string">'['</span> + (<span class="built_in">module</span> ? <span class="built_in">module</span> + <span class="string">':'</span> : <span class="string">''</span>) + code + <span class="string">'] '</span>,<span class="comment">//初始化错误消息</span></span><br><span class="line">        template = templateArgs[<span class="number">1</span>],<span class="comment">//第二个参数：模板</span></span><br><span class="line">        paramPrefix, i;</span><br><span class="line"></span><br><span class="line">      message += template.replace(<span class="regexp">/\&#123;\d+\&#125;/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//slice &#123;0&#125; 就提取出0</span></span><br><span class="line">        <span class="comment">//slice &#123;1&#125; 就提取出1</span></span><br><span class="line">        <span class="comment">//比如 "Unknown provider: &#123;0&#125;"就提取出&#123;0&#125;</span></span><br><span class="line">        <span class="keyword">var</span> index = +match.slice(<span class="number">1</span>, <span class="number">-1</span>),<span class="comment">//相当于把&#123;&#125;去掉</span></span><br><span class="line">          shiftedIndex = index + SKIP_INDEXES;<span class="comment">//根据参数顺序要跳过2个</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shiftedIndex &lt; templateArgs.length) &#123;</span><br><span class="line">          <span class="comment">// shiftedIndex 是 从 SKIP_INDEXES 开始计算的</span></span><br><span class="line">          <span class="comment">// 因为第一个参数为 错误代码 ，第二个参数为 模板</span></span><br><span class="line">          <span class="comment">//相当于格式化参数</span></span><br><span class="line">          <span class="keyword">return</span> toDebugString(templateArgs[shiftedIndex]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> match;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      message += <span class="string">'\nhttp://errors.angularjs.org/1.5.8/'</span> +</span><br><span class="line">        (<span class="built_in">module</span> ? <span class="built_in">module</span> + <span class="string">'/'</span> : <span class="string">''</span>) + code;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (i = SKIP_INDEXES, paramPrefix = <span class="string">'?'</span>; i &lt; templateArgs.length; i++, paramPrefix = <span class="string">'&amp;'</span>) &#123;</span><br><span class="line">        message += paramPrefix + <span class="string">'p'</span> + (i - SKIP_INDEXES) + <span class="string">'='</span> +</span><br><span class="line">          <span class="built_in">encodeURIComponent</span>(toDebugString(templateArgs[i]));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> ErrorConstructor(message);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关联函数-toDebugString"><a href="#关联函数-toDebugString" class="headerlink" title="关联函数 toDebugString"></a>关联函数 toDebugString</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输出调试信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDebugString</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//用===来判断</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">'function'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj.toString().replace(<span class="regexp">/ \&#123;[\s\S]*$/</span>, <span class="string">''</span>);<span class="comment">//把函数体去掉</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isUndefined(obj)) &#123;</span><br><span class="line">    <span class="comment">//调用isUndefined函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'undefined'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="comment">//不是字符串就调用serializeObject函数</span></span><br><span class="line">    <span class="keyword">return</span> serializeObject(obj);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//如果是字符串</span></span><br><span class="line">  <span class="comment">//就返回obj参数</span></span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关联函数-serializeObject"><a href="#关联函数-serializeObject" class="headerlink" title="关联函数 serializeObject"></a>关联函数 serializeObject</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* global toDebugString: true */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">serializeObject</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> seen = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//关于JSON.stringify</span></span><br><span class="line">  <span class="comment">//https://developer.mozilla.org/zh-CN/docs/Using_native_JSON</span></span><br><span class="line">  <span class="comment">//该参数可以是多种类型,如果是一个函数,则它可以改变一个javascript对象在字符串化过程中的行为,</span></span><br><span class="line">  <span class="comment">//如果是一个包含 String 和 Number 对象的数组,则它将作为一个白名单.</span></span><br><span class="line">  <span class="comment">//只有那些键存在域该白名单中的键值对才会被包含进最终生成的JSON字符串中.如果该参数值为null或者被省略,则所有的键值对都会被包含进最终生成的JSON字符串中.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(obj, <span class="function"><span class="keyword">function</span>(<span class="params">key, val</span>) </span>&#123;</span><br><span class="line">    val = toJsonReplacer(key, val);</span><br><span class="line">    <span class="keyword">if</span> (isObject(val)) &#123;</span><br><span class="line">      <span class="comment">//如果seen中已经存在该值</span></span><br><span class="line">      <span class="keyword">if</span> (seen.indexOf(val) &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="string">'...'</span>;<span class="comment">//变成省略号</span></span><br><span class="line"></span><br><span class="line">      seen.push(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从这个函数中我们可以学到以下几点</p>
<blockquote>
<p>函数内部返回函数</p>
</blockquote>
<blockquote>
<p>javascript slice的用法</p>
</blockquote>
<blockquote>
<p>javascript replace 加正则的用法</p>
</blockquote>
<blockquote>
<p>函数的包装</p>
</blockquote>
<blockquote>
<p>对象的序列化 通过JSON.stringify</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/32/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/">47</a><a class="extend next" rel="next" href="/page/34/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">231</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">42</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/johnwonder" title="GitHub &rarr; https://github.com/johnwonder" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://twitter.com/johnfuck19" title="Twitter &rarr; https://twitter.com/johnfuck19" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <div class="wechat_OA">
    <span>欢迎关注我的公众号：沉迷Spring</span>
    <br>
    <img src ="https://gitee.com/gitjohn/picgoupload/raw/master/qrcode_for_gh_e8ea1bc0eb53_258.jpg">
    </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">johnwonder</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.2.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.1</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  




  

  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

</body>
</html>
